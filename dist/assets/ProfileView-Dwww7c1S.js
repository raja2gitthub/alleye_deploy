import{r as l,j as e,B as m,s as p}from"./index-EZVcE4NK.js";import{C as g}from"./Card-CUfzvBst.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";const b=({user:a,onLogout:d})=>{const[s,u]=l.useState(a.name),[r,n]=l.useState(!1),[i,o]=l.useState(!1),x=async t=>{t.preventDefault(),o(!0);const{error:c}=await p.from("profiles").update({name:s}).eq("id",a.id);alert(c?"Error updating profile: "+c.message:"Profile updated!"),o(!1)},f=async()=>{n(!0);try{await d()}catch{n(!1)}};return e.jsxs(g,{className:"max-w-2xl mx-auto animate-fade-in",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Profile"}),e.jsxs("form",{className:"space-y-4",onSubmit:x,children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("img",{src:a.avatar_url||`https://i.pravatar.cc/150?u=${a.id}`,alt:s,className:"w-24 h-24 rounded-full object-cover"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Name"}),e.jsx("input",{type:"text",value:s,onChange:t=>u(t.target.value),className:"mt-1 form-input",disabled:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Email"}),e.jsx("input",{type:"email",value:a.email,className:"mt-1 form-input bg-sidebar-accent",readOnly:!0})]}),e.jsxs("div",{className:"pt-4 flex items-center justify-between",children:[e.jsx(m,{type:"submit",variant:"primary",disabled:i,children:i?"Saving...":"Save Profile"}),e.jsx(m,{type:"button",variant:"danger",onClick:f,disabled:r,children:r?"Logging out...":"Logout"})]})]})]})};export{b as default};

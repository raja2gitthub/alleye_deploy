import{r as d,j as e,B as m,e as x}from"./index-EZVcE4NK.js";import{C as a}from"./Card-CUfzvBst.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";const j=({updates:l,onRead:i})=>{var n;const[s,r]=d.useState(null),c=t=>{i(t),r(t)};return s?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs(m,{variant:"ghost",onClick:()=>r(null),className:"mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Back to Feed"]}),e.jsxs(a,{className:"!p-8",children:[s.thumbnail_url&&e.jsx("img",{src:s.thumbnail_url,alt:s.title,className:"w-full h-auto object-cover rounded-md mb-6 max-h-96"}),e.jsx("h1",{className:"text-3xl font-bold text-text-main",children:s.title}),e.jsxs("p",{className:"text-sm text-text-secondary mt-1 mb-6",children:["By ",(n=s.author)==null?void 0:n.name," on ",new Date(s.created_at).toLocaleDateString()]}),s.type===x.REACT_SANDBOX&&s.embed_url?e.jsx("div",{className:"aspect-video",children:e.jsx("iframe",{src:s.embed_url,title:s.title,className:"w-full h-full border rounded-md",sandbox:"allow-scripts allow-same-origin"})}):s.content?e.jsx("div",{className:"prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:s.content}}):e.jsx("p",{className:"text-text-secondary",children:"No content to display."})]})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Threat Intel Feed"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(t=>{var o;return e.jsxs(a,{className:"!p-0 flex flex-col group cursor-pointer overflow-hidden transform hover:-translate-y-1 transition-transform duration-300",onClick:()=>c(t),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.thumbnail_url||`https://picsum.photos/seed/${t.id}/400/225`,alt:t.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("h3",{className:"font-bold text-white text-lg drop-shadow-md",children:t.title})})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("p",{className:"text-sm text-text-secondary",children:["By ",((o=t.author)==null?void 0:o.name)||"Alleye"]}),e.jsx("div",{className:"mt-auto pt-2",children:e.jsx("span",{className:"text-sm font-semibold text-secondary",children:"Read More â†’"})})]})]},t.id)})}),l.length===0&&e.jsx(a,{children:e.jsx("p",{className:"text-text-secondary",children:"No threat intelligence posts available."})})]})};export{j as default};

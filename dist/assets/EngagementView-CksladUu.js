import{j as e}from"./index-EZVcE4NK.js";import{D as d,C as a}from"./CustomTooltip-B3-FOGSn.js";import{R as i,T as o}from"./CategoricalChart-DwX3OCgn.js";import{B as r}from"./BarChart-P8VKVkVQ.js";import{X as n}from"./XAxis-Bu-EbL_O.js";import{B as l}from"./barSelectors-C7tPt0tT.js";import{Y as m}from"./YAxis-DpvTBbGr.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";import"./CartesianChart-DXJYFoJy.js";import"./ErrorBarContext-DMcmVl1c.js";const x=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24",strokeWidth:1.5,stroke:"currentColor",...t,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5zM3.75 19.125a9.094 9.094 0 018.25-3.469 9.094 9.094 0 018.25 3.469m-16.5 0a3 3 0 01-3-3V16.5a3 3 0 013-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 01-3.442 1.42l-1.105-4.423a1.875 1.875 0 00-3.442-1.42H3.75z"})}),w=({data:t,onInsightClick:c})=>e.jsx(d,{title:"Engagement Analytics",subtitle:"Track participation and consistency",icon:x,onInsightClick:()=>c("Engagement"),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-full",children:[e.jsxs("div",{className:"h-48",children:[e.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Total Videos Watched"}),e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(r,{data:t.engagement.videosWatched,children:[e.jsx(n,{dataKey:"month",tick:{fill:"var(--text-secondary-color)",fontSize:10},axisLine:!1,tickLine:!1}),e.jsx(o,{content:e.jsx(a,{}),cursor:{fill:"var(--sidebar-accent-color)"}}),e.jsx(l,{dataKey:"count",fill:"var(--secondary-color)",barSize:10,radius:[4,4,0,0]})]})})]}),e.jsxs("div",{className:"h-48",children:[e.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Top 5 Module Completion Rates"}),e.jsx(i,{width:"100%",height:"100%",children:e.jsxs(r,{data:t.engagement.completionRate,layout:"vertical",margin:{left:20},children:[e.jsx(n,{type:"number",hide:!0}),e.jsx(m,{dataKey:"name",type:"category",tick:{fill:"var(--text-secondary-color)",fontSize:10},width:80,axisLine:!1,tickLine:!1}),e.jsx(o,{content:e.jsx(a,{}),cursor:{fill:"var(--sidebar-accent-color)"}}),e.jsx(l,{dataKey:"rate",fill:"var(--highlight-color)",barSize:15,name:"Completion Rate %",radius:[0,4,4,0]})]})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm font-semibold text-text-secondary mb-1",children:"Avg. Watch Time Heatmap"}),e.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:t.engagement.avgWatchTime.map(s=>e.jsxs("div",{className:"p-2 rounded text-black",style:{backgroundColor:`rgba(245, 158, 11, ${s.time/200})`},children:[s.module,": ",s.time,"s"]},s.module))})]})]})});export{w as default};

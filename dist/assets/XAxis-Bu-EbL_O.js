import{r as v}from"./index-EZVcE4NK.js";import{i as $,a0 as le,af as R,ag as ue,r as U,D as Y,Z as Q,L as M,c as z,x as X,ah as de,ai as ve,aj as ee,H as fe,a as he,J as me,ak as S,j as ge,al as ye,am as ke,u as _,an as pe,o as xe,ao as be,ap as we,aq as Pe,ar as Oe,as as Se}from"./CategoricalChart-DwX3OCgn.js";function Ce(e,t,r){return(t=je(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e){var t=Ee(e,"string");return typeof t=="symbol"?t:t+""}function Ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F{static create(t){return new F(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+n}return this.scale(t)}}isInRange(t){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?t>=i&&t<=a:t>=a&&t<=i}}Ce(F,"EPS",1e-4);function Ae(e){return(e%180+180)%180}var Te=function(t){var{width:r,height:i}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Ae(a),n=o*Math.PI/180,d=Math.atan(i/r),s=n>d&&n<Math.PI-d?i/Math.sin(n):r/Math.cos(n);return Math.abs(s)};function L(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function te(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function _e(e,t,r){var i={width:e.width+t.width,height:e.height+t.height};return Te(i,r)}function ze(e,t,r){var i=r==="width",{x:a,y:o,width:n,height:d}=e;return t===1?{start:i?a:o,end:i?a+n:o+d}:{start:i?a+n:o+d,end:i?a:o}}function N(e,t,r,i,a){if(e*t<e*i||e*t>e*a)return!1;var o=r();return e*(t-e*o/2-i)>=0&&e*(t+e*o/2-a)<=0}function De(e,t){return te(e,t+1)}function Le(e,t,r,i,a){for(var o=(i||[]).slice(),{start:n,end:d}=t,s=0,l=1,c=n,m=function(){var g=i==null?void 0:i[s];if(g===void 0)return{v:te(i,l)};var k=s,u,p=()=>(u===void 0&&(u=r(g,k)),u),b=g.coordinate,y=s===0||N(e,b,p,c,d);y||(s=0,c=n,l+=1),y&&(c=b+e*(p()/2+a),s+=l)},f;l<=o.length;)if(f=m(),f)return f.v;return[]}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(i){Ne(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Ne(e,t,r){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e){var t=Re(e,"string");return typeof t=="symbol"?t:t+""}function Re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r,i,a){for(var o=(i||[]).slice(),n=o.length,{start:d}=t,{end:s}=t,l=function(f){var h=o[f],g,k=()=>(g===void 0&&(g=r(h,f)),g);if(f===n-1){var u=e*(h.coordinate+e*k()/2-s);o[f]=h=w(w({},h),{},{tickCoord:u>0?h.coordinate-u*e:h.coordinate})}else o[f]=h=w(w({},h),{},{tickCoord:h.coordinate});if(h.tickCoord!=null){var p=N(e,h.tickCoord,k,d,s);p&&(s=h.tickCoord-e*(k()/2+a),o[f]=w(w({},h),{},{isShow:!0}))}},c=n-1;c>=0;c--)l(c);return o}function Me(e,t,r,i,a,o){var n=(i||[]).slice(),d=n.length,{start:s,end:l}=t;if(o){var c=i[d-1],m=r(c,d-1),f=e*(c.coordinate+e*m/2-l);if(n[d-1]=c=w(w({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate}),c.tickCoord!=null){var h=N(e,c.tickCoord,()=>m,s,l);h&&(l=c.tickCoord-e*(m/2+a),n[d-1]=w(w({},c),{},{isShow:!0}))}}for(var g=o?d-1:d,k=function(b){var y=n[b],P,O=()=>(P===void 0&&(P=r(y,b)),P);if(b===0){var A=e*(y.coordinate-e*O()/2-s);n[b]=y=w(w({},y),{},{tickCoord:A<0?y.coordinate-A*e:y.coordinate})}else n[b]=y=w(w({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var D=N(e,y.tickCoord,O,s,l);D&&(s=y.tickCoord+e*(O()/2+a),n[b]=w(w({},y),{},{isShow:!0}))}},u=0;u<g;u++)k(u);return n}function We(e,t,r){var{tick:i,ticks:a,viewBox:o,minTickGap:n,orientation:d,interval:s,tickFormatter:l,unit:c,angle:m}=e;if(!a||!a.length||!i)return[];if($(s)||le.isSsr){var f;return(f=De(a,$(s)?s:0))!==null&&f!==void 0?f:[]}var h=[],g=d==="top"||d==="bottom"?"width":"height",k=c&&g==="width"?R(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},u=(y,P)=>{var O=typeof l=="function"?l(y.value,P):y.value;return g==="width"?_e(R(O,{fontSize:t,letterSpacing:r}),k,m):R(O,{fontSize:t,letterSpacing:r})[g]},p=a.length>=2?ue(a[1].coordinate-a[0].coordinate):1,b=ze(o,p,g);return s==="equidistantPreserveStart"?Le(p,b,u,a,n):(s==="preserveStart"||s==="preserveStartEnd"?h=Me(p,b,u,a,n,s==="preserveStartEnd"):h=$e(p,b,u,a,n),h.filter(y=>y.isShow))}var Be=e=>{var{ticks:t,label:r,labelGapWithTick:i=5,tickSize:a=0,tickMargin:o=0}=e,n=0;if(t){Array.from(t).forEach(c=>{if(c){var m=c.getBoundingClientRect();m.width>n&&(n=m.width)}});var d=r?r.getBoundingClientRect().width:0,s=a+o,l=n+s+d+(r?i:0);return Math.round(l)}return 0},Xe=["axisLine","width","height","className","hide","ticks","axisType"],Fe=["viewBox"],Ke=["viewBox"];function W(e,t){if(e==null)return{};var r,i,a=Ge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ge(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},E.apply(null,arguments)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,i)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(i){He(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function He(e,t,r){return(t=Ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){var t=qe(e,"string");return typeof t=="symbol"?t:t+""}function qe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ze={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Y.axis};function Je(e){var{x:t,y:r,width:i,height:a,orientation:o,mirror:n,axisLine:d,otherSvgProps:s}=e;if(!d)return null;var l=x(x(x({},s),X(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!n||o==="bottom"&&n);l=x(x({},l),{},{x1:t,y1:r+c*a,x2:t+i,y2:r+c*a})}else{var m=+(o==="left"&&!n||o==="right"&&n);l=x(x({},l),{},{x1:t+m*i,y1:r,x2:t+m*i,y2:r+a})}return v.createElement("line",E({},l,{className:z("recharts-cartesian-axis-line",ee(d,"className"))}))}function Ue(e,t,r,i,a,o,n,d,s){var l,c,m,f,h,g,k=d?-1:1,u=e.tickSize||n,p=$(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":l=c=e.coordinate,f=r+ +!d*a,m=f-k*u,g=m-k*s,h=p;break;case"left":m=f=e.coordinate,c=t+ +!d*i,l=c-k*u,h=l-k*s,g=p;break;case"right":m=f=e.coordinate,c=t+ +d*i,l=c+k*u,h=l+k*s,g=p;break;default:l=c=e.coordinate,f=r+ +d*a,m=f+k*u,g=m+k*s,h=p;break}return{line:{x1:l,y1:m,x2:c,y2:f},tick:{x:h,y:g}}}function Ye(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function et(e){var{option:t,tickProps:r,value:i}=e,a,o=z(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,x(x({},r),{},{className:o}));else if(typeof t=="function")a=t(x(x({},r),{},{className:o}));else{var n="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(n=z(n,t==null?void 0:t.className)),a=v.createElement(me,E({},r,{className:n}),i)}return a}var tt=v.forwardRef((e,t)=>{var{ticks:r=[],tick:i,tickLine:a,stroke:o,tickFormatter:n,unit:d,padding:s,tickTextProps:l,orientation:c,mirror:m,x:f,y:h,width:g,height:k,tickSize:u,tickMargin:p,fontSize:b,letterSpacing:y,getTicksConfig:P,events:O,axisType:A}=e,D=We(x(x({},P),{},{ticks:r}),b,y),ie=Ye(c,m),ae=Qe(c,m),K=X(P),ne=fe(i),G={};typeof a=="object"&&(G=a);var oe=x(x({},K),{},{fill:"none"},G),H=D.map(T=>x({entry:T},Ue(T,f,h,g,k,c,u,m,p))),V=H.map(T=>{var{entry:j,line:C}=T;return v.createElement(M,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},a&&v.createElement("line",E({},oe,C,{className:z("recharts-cartesian-axis-tick-line",ee(a,"className"))})))}),q=H.map((T,j)=>{var{entry:C,tick:ce}=T,se=x(x(x(x({textAnchor:ie,verticalAnchor:ae},K),{},{stroke:"none",fill:o},ne),ce),{},{index:j,payload:C,visibleTicksCount:D.length,tickFormatter:n,padding:s},l);return v.createElement(M,E({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},he(O,C,j)),i&&v.createElement(et,{option:i,tickProps:se,value:"".concat(typeof n=="function"?n(C.value,j):C.value).concat(d||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},q.length>0&&v.createElement(Q,{zIndex:Y.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},q)),V.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},V))}),rt=v.forwardRef((e,t)=>{var{axisLine:r,width:i,height:a,className:o,hide:n,ticks:d,axisType:s}=e,l=W(e,Xe),[c,m]=v.useState(""),[f,h]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var u;return Be({ticks:g.current,label:(u=e.labelRef)===null||u===void 0?void 0:u.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=v.useCallback(u=>{if(u){var p=u.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=p;var b=p[0];if(b){var y=window.getComputedStyle(b),P=y.fontSize,O=y.letterSpacing;(P!==c||O!==f)&&(m(P),h(O))}}},[c,f]);return n||i!=null&&i<=0||a!=null&&a<=0?null:v.createElement(Q,{zIndex:e.zIndex},v.createElement(M,{className:z("recharts-cartesian-axis",o)},v.createElement(Je,{x:e.x,y:e.y,width:i,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:X(e)}),v.createElement(tt,{ref:k,axisType:s,events:l,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(de,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(ve,{label:e.label,labelRef:e.labelRef}),e.children)))}),it=v.memo(rt,(e,t)=>{var{viewBox:r}=e,i=W(e,Fe),{viewBox:a}=t,o=W(t,Ke);return L(r,a)&&L(i,o)}),re=v.forwardRef((e,t)=>{var r=U(e,Ze);return v.createElement(it,E({},r,{ref:t}))});re.displayName="CartesianAxis";var at=["dangerouslySetInnerHTML","ticks"],nt=["id"],ot=["domain"],ct=["domain"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},B.apply(null,arguments)}function I(e,t){if(e==null)return{};var r,i,a=st(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function st(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function lt(e){var t=ge();return v.useLayoutEffect(()=>(t(ye(e)),()=>{t(ke(e))}),[e,t]),null}var ut=e=>{var{xAxisId:t,className:r}=e,i=_(pe),a=xe(),o="xAxis",n=_(u=>be(u,o,t,a)),d=_(u=>we(u,o,t,a)),s=_(u=>Pe(u,t)),l=_(u=>Oe(u,t)),c=_(u=>Se(u,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:m,ticks:f}=e,h=I(e,at),{id:g}=c,k=I(c,nt);return v.createElement(re,B({},h,k,{scale:n,x:l.x,y:l.y,width:s.width,height:s.height,className:z("recharts-".concat(o," ").concat(o),r),viewBox:i,ticks:d,axisType:o}))},dt={allowDataOverflow:S.allowDataOverflow,allowDecimals:S.allowDecimals,allowDuplicatedCategory:S.allowDuplicatedCategory,height:S.height,hide:!1,mirror:S.mirror,orientation:S.orientation,padding:S.padding,reversed:S.reversed,scale:S.scale,tickCount:S.tickCount,type:S.type,xAxisId:0},vt=e=>{var t,r,i,a,o,n=U(e,dt);return v.createElement(v.Fragment,null,v.createElement(lt,{interval:(t=n.interval)!==null&&t!==void 0?t:"preserveEnd",id:n.xAxisId,scale:n.scale,type:n.type,padding:n.padding,allowDataOverflow:n.allowDataOverflow,domain:n.domain,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,includeHidden:(r=n.includeHidden)!==null&&r!==void 0?r:!1,reversed:n.reversed,ticks:n.ticks,height:n.height,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:(i=n.angle)!==null&&i!==void 0?i:0,minTickGap:(a=n.minTickGap)!==null&&a!==void 0?a:5,tick:(o=n.tick)!==null&&o!==void 0?o:!0,tickFormatter:n.tickFormatter}),v.createElement(ut,n))},ft=(e,t)=>{var{domain:r}=e,i=I(e,ot),{domain:a}=t,o=I(t,ct);return L(i,o)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:L({domain:r},{domain:a}):!1},ht=v.memo(vt,ft);ht.displayName="XAxis";export{re as C,ht as X,Ze as d,We as g,L as s};

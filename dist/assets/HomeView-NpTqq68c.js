import{j as s,B as x,f as u}from"./index-EZVcE4NK.js";import{C as p}from"./Card-CUfzvBst.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";const f=e=>s.jsx("svg",{role:"img",height:"24",width:"24","aria-hidden":"true",viewBox:"0 0 24 24",...e,fill:"currentColor",children:s.jsx("path",{d:"m7.05 3.606 13.49 7.788a.7.7 0 0 1 0 1.212L7.05 20.394A.7.7 0 0 1 6 19.788V4.212a.7.7 0 0 1 1.05-.606z"})}),N=({item:e,onPlay:t})=>s.jsxs("div",{className:"relative rounded-2xl overflow-hidden h-72 sm:h-80 lg:h-96 text-white shadow-lg",children:[s.jsx("img",{src:e.thumbnail_url||`https://picsum.photos/seed/${e.id}/1200/600`,alt:e.title,className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent"}),s.jsxs("div",{className:"relative z-10 p-4 sm:p-6 lg:p-8 h-full flex flex-col justify-end",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold drop-shadow-lg",children:e.title}),s.jsx("p",{className:"mt-1 sm:mt-2 text-xs sm:text-sm max-w-lg text-gray-300 drop-shadow-md",children:e.description}),s.jsx("div",{className:"mt-4 sm:mt-6",children:s.jsxs(x,{variant:"secondary",size:"md",onClick:()=>t(e),children:[s.jsx(f,{className:"w-5 h-5 mr-2"}),"Watch Now"]})})]})]}),b=e=>s.jsx("svg",{role:"img",height:"24",width:"24","aria-hidden":"true",viewBox:"0 0 24 24",...e,fill:"currentColor",children:s.jsx("path",{d:"m7.05 3.606 13.49 7.788a.7.7 0 0 1 0 1.212L7.05 20.394A.7.7 0 0 1 6 19.788V4.212a.7.7 0 0 1 1.05-.606z"})}),g=({item:e,onPlay:t,status:l})=>{const a=l==="completed"?100:l==="in-progress"?50:0;return s.jsxs("div",{onClick:()=>t(e),className:"w-64 flex-shrink-0 group cursor-pointer",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-md",children:[s.jsx("img",{src:e.thumbnail_url||`https://picsum.photos/seed/${e.id}/400/225`,alt:e.title,className:"w-full h-36 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:s.jsx(b,{className:"w-10 h-10 text-white/80 drop-shadow-lg"})}),a>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-sidebar-accent/50",children:s.jsx("div",{className:`h-full transition-all duration-500 ${l==="completed"?"bg-green-500":"bg-yellow-500"}`,style:{width:`${a}%`}})})]}),s.jsx("h4",{className:"mt-2 font-semibold text-text-main text-sm truncate",children:e.title}),s.jsx("p",{className:"text-xs text-text-secondary",children:e.category})]})},d=({title:e,items:t,onPlay:l,progress:a})=>s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold",children:e}),s.jsx("button",{className:"text-sm font-semibold text-text-secondary hover:text-text-main",children:"See all >"})]}),s.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4 custom-scrollbar",children:t.map(i=>{var r;return s.jsx(g,{item:i,onPlay:l,status:((r=a==null?void 0:a[i.id])==null?void 0:r.status)||"not-started"},i.id)})})]}),c=({className:e})=>s.jsx("div",{className:`bg-sidebar-accent animate-pulse rounded-md ${e}`}),v=({item:e,onPlay:t})=>{const{content:l,reason:a}=e;return s.jsxs(p,{className:"!p-0 flex flex-col group overflow-hidden w-64 flex-shrink-0",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:l.thumbnail_url||`https://picsum.photos/seed/${l.id}/400/225`,alt:l.title,className:"w-full h-36 object-cover"})}),s.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[s.jsx("h4",{className:"font-semibold text-text-main text-sm truncate flex-1",children:l.title}),s.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:[l.category," â€¢ ",l.difficulty]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-border",children:[s.jsxs("p",{className:"text-xs font-semibold text-primary mb-1 flex items-center gap-1.5",children:[s.jsx(u,{className:"w-4 h-4"}),"RECOMMENDED FOR YOU"]}),s.jsxs("p",{className:"text-xs text-text-secondary italic",children:['"',a,'"']})]}),s.jsx(x,{variant:"secondary",size:"sm",className:"w-full mt-3",onClick:()=>t(l),children:"Start Learning"})]})]})},w=({title:e,items:t,isLoading:l,error:a,onPlay:i})=>l?s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:e}),s.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4 custom-scrollbar",children:[...Array(4)].map((r,o)=>s.jsxs("div",{className:"w-64 flex-shrink-0",children:[s.jsx(c,{className:"h-36 w-full rounded-xl"}),s.jsx(c,{className:"h-4 w-3/4 mt-2"}),s.jsx(c,{className:"h-3 w-1/2 mt-1"})]},o))})]}):a||!t||t.length===0?null:s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:e}),s.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4 custom-scrollbar",children:t.map(r=>s.jsx(v,{item:r,onPlay:i},r.content.id))})]}),y=({updates:e})=>s.jsxs("div",{className:"bg-sidebar-accent rounded-2xl p-6 h-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Latest Updates"}),s.jsx("button",{className:"text-sm font-semibold text-text-secondary hover:text-text-main",children:"See more"})]}),s.jsx("div",{className:"space-y-5",children:e.map(t=>{var l;return s.jsxs("div",{className:"flex gap-4 group cursor-pointer",children:[s.jsx("img",{src:t.thumbnail_url||`https://picsum.photos/seed/${t.id}/200/120`,alt:t.title,className:"w-28 h-20 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-text-main group-hover:text-secondary transition-colors",children:t.title}),s.jsxs("p",{className:"text-xs text-text-secondary mt-1",children:["By ",((l=t.author)==null?void 0:l.name)||"Alleye"]})]})]},t.id)})})]}),$=({featuredContent:e,continueLearning:t,newContent:l,recommendations:a,updates:i,onPlay:r,onNewsRead:o,loading:m,recLoading:h,recError:j,userProgress:n})=>m?s.jsxs("div",{className:"space-y-6",children:[s.jsx(c,{className:"h-96 w-full rounded-2xl"}),s.jsx(c,{className:"h-8 w-1/4"}),s.jsxs("div",{className:"flex gap-6",children:[s.jsx(c,{className:"w-64 h-48 flex-shrink-0"}),s.jsx(c,{className:"w-64 h-48 flex-shrink-0"}),s.jsx(c,{className:"w-64 h-48 flex-shrink-0"})]})]}):s.jsx("div",{className:"animate-fade-in",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[e&&s.jsx(N,{item:e,onPlay:r}),s.jsx(w,{title:"Recommended For You",items:a,isLoading:h,error:j,onPlay:r}),t.length>0&&s.jsx(d,{title:"Continue Learning",items:t,onPlay:r,progress:n}),l.length>0&&s.jsx(d,{title:"New For You",items:l,onPlay:r,progress:n})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(y,{updates:i})})]})});export{$ as default};

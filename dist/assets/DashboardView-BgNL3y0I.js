import{j as e,B as i,U as m,C as h,P as j,O as p,Q as N,A as y,s as f}from"./index-EZVcE4NK.js";import{C as a}from"./Card-CUfzvBst.js";import"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";const w=({currentUser:l,stats:n,updates:c,setUpdates:g,pendingQandaCount:o,setActiveView:s})=>{const x=async t=>{if(window.confirm("Are you sure you want to delete this news post?")){const{error:r}=await f.from("news").delete().eq("id",t);r&&alert(`Error: ${r.message}`)}};return e.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-text-main",children:["Welcome back, ",l.name,"!"]}),e.jsx("p",{className:"mt-1 text-text-secondary",children:"Here's what's happening with your LMS today."})]}),e.jsxs(a,{className:"!p-4 flex items-center gap-4",children:[e.jsx("img",{src:l.avatar_url||`https://i.pravatar.cc/150?u=${l.id}`,alt:l.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-text-main",children:l.name}),e.jsx("p",{className:"text-sm text-text-secondary",children:l.email})]}),e.jsx(i,{variant:"ghost",onClick:()=>s("Profile"),children:"Edit Profile"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(a,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>s("Users"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-3xl font-bold",children:n.userCount}),e.jsx("p",{className:"text-text-secondary",children:"Total Users"})]})]})}),e.jsx(a,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>s("Content"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-3xl font-bold",children:n.contentCount}),e.jsx("p",{className:"text-text-secondary",children:"Content Items"})]})]})}),e.jsx(a,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>s("Playlists"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-3xl font-bold",children:n.playlistCount}),e.jsx("p",{className:"text-text-secondary",children:"Playlists"})]})]})}),e.jsx(a,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>s("Organizations"),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"w-8 h-8 text-primary"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-3xl font-bold",children:n.organizationCount}),e.jsx("p",{className:"text-text-secondary",children:"Organizations"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Latest Threat Intel"}),e.jsx(i,{variant:"ghost",size:"sm",onClick:()=>s("Threat Intel"),children:"View All"})]}),e.jsxs("div",{className:"space-y-3",children:[c.slice(0,3).map(t=>{var r;return e.jsxs("div",{className:"p-3 rounded-lg hover:bg-sidebar-accent flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-text-main",children:t.title}),e.jsxs("p",{className:"text-sm text-text-secondary",children:["By ",(r=t.author)==null?void 0:r.name," on ",new Date(t.created_at).toLocaleDateString()]})]}),e.jsx(i,{variant:"danger",size:"sm",onClick:d=>{d.stopPropagation(),x(t.id)},children:"Delete"})]},t.id)}),c.length===0&&e.jsx("p",{className:"text-text-secondary",children:"No recent updates."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{className:"cursor-pointer hover:border-yellow-400 transition-colors !p-4 flex items-center justify-between",onClick:()=>s("Q&A"),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(N,{className:"w-8 h-8 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-text-main",children:"Pending Q&A"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Questions awaiting your response"})]})]}),e.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:o})]}),e.jsx(a,{className:"cursor-pointer hover:border-blue-500 transition-colors !p-4 flex items-center justify-between",onClick:()=>s("Analytics"),children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{className:"w-8 h-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-text-main",children:"View Analytics"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Track learner progress and engagement"})]})]})})]})]})]})};export{w as default};
